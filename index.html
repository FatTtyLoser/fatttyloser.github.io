<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="https://fatttyloser.github.io/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://fatttyloser.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-AWS 入門" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/09/12/AWS%20%E5%85%A5%E9%96%80/" class="article-date">
  <time class="dt-published" datetime="2022-09-12T02:49:26.710Z" itemprop="datePublished">2022-09-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="AWS-入門"><a href="#AWS-入門" class="headerlink" title="AWS 入門"></a>AWS 入門</h1><h6 id="tags-Amazon-Web-Services"><a href="#tags-Amazon-Web-Services" class="headerlink" title="tags: Amazon Web Services"></a>tags: <code>Amazon Web Services</code></h6><p>[TOC]</p>
<h3 id="AWS"><a href="#AWS" class="headerlink" title="AWS"></a>AWS</h3><p>亞馬遜網路服務（英語：Amazon Web Services，縮寫為AWS），是由亞馬遜公司的子公司(Amazon Web Services, Inc.)所建立之雲端運算平台，向個人、企業和政府提供一系列包括資訊科技基礎架構和應用的服務，如儲存、資料庫、計算、機器學習等等。</p>
<h3 id="創建帳戶"><a href="#創建帳戶" class="headerlink" title="創建帳戶"></a>創建帳戶</h3><p>創建帳戶後，此帳戶為根帳號(root)具有最大權限，因此應該創建一個 <a target="_blank" rel="noopener" href="https://aws.amazon.com/tw/iam/faqs/">IAM</a> 帳號(Identity and Access Management)，透過根帳號設定工作群組來制定IAM帳號的權限進行管理，避免造成不可預期的操作失誤。</p>
<h3 id="虛擬伺服器"><a href="#虛擬伺服器" class="headerlink" title="虛擬伺服器"></a>虛擬伺服器</h3><p>AWS 提供許多雲端服務，其中功能包含最廣泛的就是虛擬伺服器 EC2，透過虛擬伺服器 LinuxServer 並可以使用 AWS 提供的工具進行資料儲存、機器學習等等。</p>
<h3 id="建立-EC2"><a href="#建立-EC2" class="headerlink" title="建立 EC2"></a>建立 EC2</h3><p>透過 AWS 網頁設定虛擬機的作業系統、服務方案與個人化的標籤與認證方式、服務方案，選擇的連線方式與密鑰關乎連線的權限與方式，本機使用個人 IP 作為權限限制，並創建新的金鑰、下載並保存後，透過 Tera term 連線到公開 IPv4 地址:<strong>18.181.78.96</strong>，即可成功連線。<br>透過 Tera term 連線是使用 Linux 提供的 SSH(Secure Shell) 的連線方式來確保傳輸安全性，因此需要使用我們在建立伺服器時新增的金鑰進行遠端連線。還有不同的傳輸方式可以使用。</p>
<p><img src="https://i.imgur.com/uuAEloW.jpg" alt="建立新連線"></p>
<ul>
<li>建立新連線<ol>
<li>Host 填入 EC2 IPv4 的位址</li>
<li>2.TCP port 號預設 22</li>
<li>服務選擇 SSH 連線方式</li>
</ol>
</li>
</ul>
<p><img src="https://i.imgur.com/dj22Ew8.jpg" alt="SSH 認證"></p>
<ul>
<li>SSH 認證<ol>
<li>用戶名 ec2-user 是 Amazon Linux 2 啟動時建立的使用者</li>
<li>選擇 RSA 密鑰登錄，使用我們預先下載的密鑰(.pem)檔案</li>
</ol>
</li>
</ul>
<p><img src="https://i.imgur.com/7LzOIIA.jpg" alt="連線成功"><br>:arrow_up:連線成功！</p>
<h4 id="不同的傳輸方式"><a href="#不同的傳輸方式" class="headerlink" title="不同的傳輸方式"></a>不同的傳輸方式</h4><p>Session Manager(工作階段管理)是 AWS Systems Manager 的服務之一，預設定對 EC2 上 Systems Manager 的存取權限時必須使用 IAM 角色。<br>從 Systems Manager 右側可見節點管理的工作群組，可以從機群管理員中查看目前啟動中可用的虛擬機，而從工作階段管理員可見可執行工作的執行個體，選擇後點選開始工作階段之後，就可以成功連線到虛擬機上了，相較於傳統 SSH 的連線方式便捷許多。<br>因此如果之後不使用 SSH 時，可以在 EC2 儀表板中的安全群組編輯傳入規則刪除，如此不能透過 SSH 做遠端連線了。</p>
<h3 id="映像檔"><a href="#映像檔" class="headerlink" title="映像檔"></a>映像檔</h3><p>Amazon Machine Image (AMI)，當我們選擇所需要的服務來建立一個客製化的執行個體時，像是我們可以將自己選擇的指定格式與服務的 EC2 伺服器進行打包，形成一個 Image 讓我們下次需要重新啟動時可以快速建立，而且要幾個就有幾個。</p>
<h3 id="執行指令"><a href="#執行指令" class="headerlink" title="執行指令"></a>執行指令</h3><h4 id="sudo-u-使用者名稱-user-name"><a href="#sudo-u-使用者名稱-user-name" class="headerlink" title="sudo -u [使用者名稱(user name)]"></a>sudo -u [使用者名稱(user name)]</h4><p>當我們使用 SSH 或是 session manager 連線時，使用的身分是 AWS EC2 建立時預設建立的使用者(ec2-user 或 ssm-user)，因此我們透過使用者操作時，並沒有全部的權限，擁有的權限看我們如何透過 root 設定，此時如果我們有需要 root 權限的操作時，可以使用 <strong>sudo</strong> 指令來做單指令的權限突破。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo -u ec2-user cat /var/log/recure</span><br><span class="line">= cat /var/log/recure</span><br><span class="line"></span><br><span class="line">sudo cat /var/log/recure</span><br><span class="line">= sudo -u root cat /var/log/recure</span><br></pre></td></tr></table></figure>

<h4 id="sudoers-檔"><a href="#sudoers-檔" class="headerlink" title="sudoers 檔"></a>sudoers 檔</h4><p>而並不是每個使用者都可以使用 sudo 指令，我們可以透過 sudoers 檔案來查找特定使用者是否在 sudoers 類別裡面。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo cat /etc/sudoers</span><br><span class="line"># wheel ALL=(ALL) ALL</span><br><span class="line"></span><br><span class="line">sudo cat /etc/group | grep wheel</span><br><span class="line"># wheel:x:10:ec2-user</span><br></pre></td></tr></table></figure>

<h3 id="EC2-的套件管理"><a href="#EC2-的套件管理" class="headerlink" title="EC2 的套件管理"></a>EC2 的套件管理</h3><p>在 EC2 上有幾種方式可以管理套件，由於本身是 Linux kernel(核心)因此在 Linux 使用的指令，在 EC2 同樣可以，但由於經過 AWS 的編寫管理，有部分的套件為了更好地融入 AWS 提供的服務，所以有更好的管理套件可以使用。</p>
<h4 id="yum"><a href="#yum" class="headerlink" title="yum"></a>yum</h4><p>使用 yum 來安裝套件 <code>sudo yum install http</code> 系統會自動聯網並找到套件的安裝模組並進行安裝，安裝後系統會先顯示依存項目的下載大小、安裝大小供你確認，確認後並同意安裝，安裝結束後會一併顯示 Installed((已安裝套件一覽清單)、Dependency Installed(已安裝的依存項目清單)、Complete!(表示已成功安裝)，可以在安裝指令加上 <code>-y</code> 省去確認的步驟。</p>
<ul>
<li>常用指令<br>  安裝套件 <code>yum install -y 套件名稱</code><br>  更新套件 <code>yum update 套件名稱</code><br>  移除套件 <code>yum remove 套件名稱</code> <code>yum erase 套件名稱</code><br>  列出所有已安裝套件 <code>yum list</code><br>  查詢特定已安裝套件 <code>yum list | grep &#39;套件名稱&#39;</code><br>  查詢命令被什麼套件安裝 <code>yum provides &quot;/*/套件名稱&quot;</code></li>
</ul>
<h4 id="rpm"><a href="#rpm" class="headerlink" title="rpm"></a>rpm</h4><p>由於 rpm 安裝套件時需要自行將套件的依存項目準備好，在安裝指令也要寫上包含版本的套件全名，可能會東漏西漏的無法正常安裝套件，所以比較常用 yum 來安裝比較方便，而 rpm 也可以用來管理安裝套件。<br>rpm 模組格式舉例說明： <code>httpd-2.4.x-1.i686.x86_64.rpm</code><br><code>httpd</code> 是套件名稱，<code>2.4.x</code>是版本資訊，<code>1.i686</code>是釋出版本號，<code>x86_64</code>是執行平台若是<code>noarch</code>則代表無平台限制。</p>
<ul>
<li>安裝 &#x2F; 升級模式<br>  <code>-i</code>: 安裝套件<br>  <code>-U</code>: 升級套件(若無，則進行安裝<br>  <code>-F</code>: 若已安裝此套件，就進行升級<br>  可以進一步附加併用選項<br>  <code>v</code>: 顯示詳細資訊<br>  <code>h</code>: 以「#」顯示進度<br>  <code>--nodeps</code>: 安裝時忽略依存項目<br>  舉例： <code>rpm -ivh RPM套件名稱</code></li>
<li>查詢模式<br>  <code>-q</code>: 查詢已安裝的套件<br>  可以進一步附加併用選項<br>  <code>a</code>: 顯示所有已安裝的套件<br>  <code>p</code>: 指定查詢特定套件<br>  <code>c</code>: 僅顯示設定檔<br>  <code>i</code>: 顯示套件資訊<br>  <code>--changelog</code>: 顯示變更日誌紀錄</li>
</ul>
<h4 id="amazon-linux-extras"><a href="#amazon-linux-extras" class="headerlink" title="amazon-linux-extras"></a>amazon-linux-extras</h4><p>Amazon Linux 2 (AWS 的 linux kernel 名稱)具有名為 <strong>amazon-linux-extras</strong> 的儲存庫，可提供新版本的套件，由於 Amazon Linux 2 預設裡面的軟體並不會持續更新，所以當我們有需要更新版本的軟體時，若軟體羅列在 amazon-linux-extras 中則可以進行更新安裝。</p>
<ul>
<li><code>amazon-linux-extras list</code>: 檢視儲存庫的所有套件<br>  查找自己所需要的套件有列於此處時，就可以使用<code>amazon-linux-extras install python3.8</code>(列表中第一列套件名稱或加上版本) 來安裝在列表上的指定版本。</li>
</ul>
<h3 id="使用-S3-Simple-Storage-Service"><a href="#使用-S3-Simple-Storage-Service" class="headerlink" title="使用 S3(Simple Storage Service)"></a>使用 S3(Simple Storage Service)</h3><p>Amazon Simple Storage Service 是 Amazon 提供的物件儲存服務，具有以下幾項特色：資料儲存不受限、具高度耐久性與可用性、支援網路存取。</p>
<ul>
<li>資料儲存不受限<br>  EC2 是 Linux kernel 的虛擬機，通常虛擬機在建置時預設 8GB 的大小，而 EC2 如果有更大的容量需求則需要擴充它，上限到 16TB，S3 的儲存容量不需要預留，只要須建立名為儲存貯體(Bucket)的資料容器，將資料存入儲存貯體即可，Bucket 沒有容量限制。</li>
<li>高度耐久性與可用性<br>  S3 具有由「可用區域」(Availability Zones)的多個資料中心構成的資料中心群組，儲存於 S3 的資料會自動使用多個可用區域，以確保耐用性。</li>
<li>支援網路存取<br>  可透過 HTTP&#x2F;HTTPS 協定從世界各地輕鬆存取，存取方法包括使用「管理控制台」的瀏覽器 GUI 工具，CLI (Command-Line Interface，命令列介面)，以及 SDK (Software Development Kit，軟體開發套件)等，是個可編寫程式的儲存服務。</li>
</ul>
<h4 id="使用-AWS-CLI-命令列介面"><a href="#使用-AWS-CLI-命令列介面" class="headerlink" title="使用 AWS CLI(命令列介面)"></a>使用 AWS CLI(命令列介面)</h4><p>Amazon Linux 2 預設已經安裝了 AWS CLI 我們可以透過終端機查看版本 <code>$aws --version</code> 。</p>
<p>要使用 S3 之前我們需要先為　EC2 執行個體開啟權限，當初我們建立 EC2 時同時建立了一個 IAM 角色並命名為 LinuxRole 把 EC2 服務的權限賦予給角色，因此我們也要將使用 S3 儲存服務的權限加入到 IAM 角色中，才可以開啟服務。相關操作流程：進入 IAM 儀表版、選擇角色、連接政策、搜尋 S3 並新增連接政策。</p>
<h3 id="服務相關知識"><a href="#服務相關知識" class="headerlink" title="服務相關知識"></a>服務相關知識</h3><ul>
<li><a target="_blank" rel="noopener" href="https://aws.amazon.com/tw/about-aws/global-infrastructure/regional-product-services/">AWS 區域服務</a><br>AWS 服務目前具有 26 個區域與每一個區域內有數個可用區域可以提供使用者選擇，而本一個可用區域提供的服務可能有區別，常見的核心服務都有提供，網址可以查詢該區域提供的服務列表。</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://fatttyloser.github.io/2022/09/12/AWS%20%E5%85%A5%E9%96%80/" data-id="cl7y62r7p0001l4bn8clre4sx" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-test" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/09/12/test/" class="article-date">
  <time class="dt-published" datetime="2022-09-12T02:47:51.000Z" itemprop="datePublished">2022-09-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/09/12/test/">test</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://fatttyloser.github.io/2022/09/12/test/" data-id="cl7y62r6b0000l4bne3pg7g8j" data-title="test" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-hello-world" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/09/12/hello-world/" class="article-date">
  <time class="dt-published" datetime="2022-09-12T02:42:02.565Z" itemprop="datePublished">2022-09-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/09/12/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://fatttyloser.github.io/2022/09/12/hello-world/" data-id="cl7y5vz1y0000ngbna3dq1m3g" data-title="Hello World" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/09/12/AWS%20%E5%85%A5%E9%96%80/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/09/12/test/">test</a>
          </li>
        
          <li>
            <a href="/2022/09/12/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>